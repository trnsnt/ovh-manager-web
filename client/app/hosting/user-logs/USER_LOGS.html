<div class="container-fluid px-0" data-ng-controller="HostingTabUserLogsCtrl as ctrl">
    <div class="row">
        <div class="col-md-9">
            <div data-ovh-alert="{{alerts.main}}"></div>

            <h2 data-i18n-static="hosting_tab_USER_LOGS"></h2>
            <p data-ng-if="ctrl.guide">
                <span class="fa fa-life-ring" aria-hidden="true"></span>
                <span data-i18n-static="hosting_tab_USER_LOGS_guide_help"></span>
                <a data-ng-href="{{ctrl.guide}}" target="_blank" title="{{hosting_guide_help}} {{i18n.common_newtab}}">
                    <span data-i18n-static="hosting_guide_help"></span>
                    <span class="fa fa-external-link" aria-hidden="true"></span>
                </a>
            </p>
            <p data-i18n-static="hosting_tab_USER_LOGS_dashboard_information"></p>
            <dl>
                <dt data-i18n-static="hosting_tab_USER_LOGS_dashboard_stats"></dt>
                <dd>
                    <a data-ng-href="{{ctrl.urlUrchin}}" target="_blank" title="{{hosting_tab_USER_LOGS_dashboard_stats_newtab}}"
                       data-ng-if="!ctrl.userLogsToken">
                        <span data-ng-bind="ctrl.urlUrchin"></span>
                        <span class="fa fa-external-link" aria-hidden="true"></span>
                    </a>
                    <a data-ng-href="{{ctrl.urlUrchin + '?token=' + ctrl.userLogsToken}}" target="_blank" title="{{hosting_tab_USER_LOGS_dashboard_stats_newtab}}"
                       data-ng-if="ctrl.userLogsToken">
                        <span data-ng-bind="ctrl.urlUrchin"></span>
                        <span class="fa fa-external-link" aria-hidden="true"></span>
                    </a>
                </dd>

                <dt data-i18n-static="hosting_tab_USER_LOGS_dashboard_logs"></dt>
                <dd>
                    <a data-ng-href="{{ctrl.urlLogs}}" target="_blank" title="{{hosting_tab_USER_LOGS_dashboard_logs_link}} {{i18n.common_newtab}}"
                       data-ng-if="!ctrl.userLogsToken">
                        <span data-ng-bind="ctrl.urlLogs"></span>
                        <span class="fa fa-external-link" aria-hidden="true"></span>
                    </a>
                    <a data-ng-href="{{ ctrl.urlLogs + '?token=' +  ctrl.userLogsToken}}" target="_blank" title="{{hosting_tab_USER_LOGS_dashboard_logs_link}} {{i18n.common_newtab}}"
                       data-ng-if="ctrl.userLogsToken">
                        <span data-ng-bind="ctrl.urlLogs"></span>
                        <span class="fa fa-external-link" aria-hidden="true"></span>
                    </a>
                </dd>
            </dl>

            <div class="mt-5">
                <oui-datagrid data-rows="ctrl.userLogs.ids"
                              data-row-loader="ctrl.transformItem($row)">
                    <oui-column data-title="tr('hosting_tab_USER_LOGS_table_header_login')" data-property="login">
                        <span data-ng-bind="$row.login"></span>
                    </oui-column>
                    <oui-column data-title="tr('hosting_tab_USER_LOGS_table_header_description')" data-property="description">
                        <span data-ng-bind="$row.description | date:'short'"></span>
                    </oui-column>
                    <oui-column data-title="tr('hosting_tab_USER_LOGS_table_header_creationDate')" data-property="creationDate">
                        <span data-ng-bind="$row.creationDate | date: 'medium'"></span>
                    </oui-column>
                    <oui-action-menu align="end" compact>
                        <oui-action-menu-item data-text="{{::tr('hosting_tab_USER_LOGS_table_popover_modify')}}"
                                              on-click="setAction('user-logs/update/hosting-user-logs-update', $row)">
                        </oui-action-menu-item>
                        <oui-action-menu-item data-text="{{::tr('hosting_tab_USER_LOGS_table_popover_update_password')}}"
                                              on-click="setAction('user-logs/password-update/hosting-user-logs-update-password', $row.login)">
                        </oui-action-menu-item>
                        <oui-action-menu-item data-text="{{::tr('hosting_tab_USER_LOGS_table_popover_delete')}}"
                                              on-click="setAction('user-logs/delete/hosting-user-logs-delete', $row.login)">
                        </oui-action-menu-item>
                    </oui-action-menu>
                </oui-datagrid>
            </div>
        </div>

        <div class="col-md-3 mt-5 mt-lg-0">
            <button class="btn btn-block btn-default" type="button"
                    data-i18n-static="hosting_tab_USER_LOGS_configuration_user_create_title_button"
                    data-ng-click="setAction('user-logs/add/hosting-user-logs-add')">
            </button>
        </div>
    </div>
</div>
